#!/bin/sh

echo "📝 Checking commit message format..."

# Run commitlint
npx --no-install commitlint --edit "$1"

if [ $? -eq 0 ]; then
    echo "✅ Commit message format is valid!"
else
    echo "❌ Commit message format is invalid!"
    echo ""
    echo "📋 Commit message must follow conventional commits format:"
    echo "   <type>[optional scope]: <description>"
    echo ""
    echo "Valid types: feat, fix, docs, style, refactor, test, chore"
    echo "Example: feat: add user authentication"
    echo "         fix(api): resolve login endpoint error"
    exit 1
fi